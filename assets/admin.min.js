jQuery(function(e){var t,a="#woocommerce_jp_gcash_manual_gcash_qr",c="Select QR";if(e(a).length){var o=e(a).val();e(a).wrap('<div class="jp-gcash-upload-fields">'),e("<span id='prev_url_gcash_jp'></span>").insertBefore(a),o&&(c="Update QR",e("#prev_url_gcash_jp").html("Loading preview.."),wp.media.attachment(o).fetch().then(function(t){e("#prev_url_gcash_jp").html('<img src="'+wp.media.attachment(o).get("url")+'" />')})),e("<button type='button' class='button media-button select-mode-toggle-button' id='woocommerce_jp_gcash_manual_gcash_qr_select'>"+c+"</button>").insertBefore(a)}e("body").on("click","#woocommerce_jp_gcash_manual_gcash_qr_select",function(c){if(c.preventDefault(),t){t.open();return}(t=wp.media.frames.file_frame=wp.media({title:"Choose Image",button:{text:"Choose Image"},multiple:!1})).on("select",function(){var c=t.state().get("selection").first().toJSON();e(a).val(c.id).trigger("change"),e("#woocommerce_jp_gcash_manual_gcash_qr_preview").hide(),e("#prev_url_gcash_jp").html('<img src="'+c.url+'" />')}),t.open()})});